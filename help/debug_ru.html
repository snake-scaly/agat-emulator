<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251" />
<title>Встроенный отладчик</title>
</head>

<body>
<h2>Встроенный отладчик</h2>
<p>Начиная с версии 1.20, эмулятор содержит встроенный отладчик, совместимый по набору команд с Системным Монитором. Для активизации отладчика необходимо, чтобы в <a href="gconf_ru.html">настройках эмулятора</a> был выбран пункт "Использовать отладчик".</p>
<p>При этом в контекстном меню эмулируемых систем появляется пункт &quot;Запустить отладчик&quot;, выбор которого открывает дополнительное окно отладки: </p>
<p align="center"><img src="ru/debugger.png" alt="Debugger window" width="406" height="518" /></p>
<p>Работа с отладчиком в целом аналогична работе с Системным монитором. Принципиальное отличие между отладчиком и Системным монитором заключается в том, что отладчик выполняется вне контекста эмулируемой системы и не зависит от состояния банков памяти, режима эмуляции ПЗУ и пр. Кроме этого, работа системы в режиме отладки не прерывается (если в <a href="gconf_ru.html">настройках эмулятора</a> выбран режим фонового исполнения), то есть, появляется возможность изменять состояние памяти эмулятора параллельно с выполнением в нём программы. </p>
<p><strong>Команды отладчика </strong>:</p>
<table border="1" align="center">
  <tr>
    <th width="137" scope="col"><div align="center">Команда</div></th>
    <th width="849" scope="col"><div align="center">Описание</div></th>
  </tr>
  <tr>
    <td scope="col">[a1][.a2]</td>
    <td scope="col">Выдача в консоль эмулятора дампа памяти с адреса a1 по адрес a2 включительно. Если адрес a1 не указан, выдаётся участок, начиная с последнего используемого адреса +1. Если не указан адрес a2, выдаётся значение байта памяти по адресу a1. Если не указан ни один из адресов (пустая строка), последовательно выдаются участки памяти размером 1..8 байт с увеличением текущего адреса. </td>
  </tr>
  <tr>
    <td scope="col">[a]:d1 [d2]...</td>
    <td scope="col">Запись байта (или нескольких байт) данных по последовательным адресам, начиная с адреса a. Если значение адреса не указано, используется текущее значение адреса записи, непосредственно следующим за последним записанным блоком данных. </td>
  </tr>
  <tr>
    <td scope="col">[a]L</td>
    <td scope="col">Дизассемблирование участка памяти (20 команд), начиная с адреса a, либо с конца последнего дизассемблированного блока. В зависимости от <a href="gconf_ru.html">настроек эмулятора</a>, поддерживается отображение недокументированных команд процессора 6502, либо расширенных команд процессора 65C02. </td>
  </tr>
  <tr>
    <td scope="col">a1[.a2]R</td>
    <td scope="col">Чтение блока данных из файла по адресу a1. Если адрес a2 не указан, размер блока определяется размером файла. Если при чтении файла возникла ошибка, или его размер оказался меньше размера блока, выдаётся сообщение &quot;ERR&quot;. </td>
  </tr>
  <tr>
    <td scope="col">a1.a2W</td>
    <td scope="col">Запись блока данных, начиная с адреса a1 по адрес a2 (включительно) в файл. Оба адреса должны присутствовать в команде. </td>
  </tr>
  <tr>
    <td scope="col">a1&lt;a2.a3M</td>
    <td scope="col">Перемещение (если a1 вне диапазона адресов a2..a3) или повторение блока памяти a2..a3 на новый адрес a1. Пример перемещения: 2000&lt;3000.3FFFM. Пример повторения: 2001&lt;2000.2FFFM.</td>
  </tr>
  <tr>
    <td scope="col">a1&lt;a2.a3V</td>
    <td scope="col">Аналогично команде M, только выполняется сравнение участков памяти. На консоль выдаются адреса и значения байт, отличающиеся друг от друга. </td>
  </tr>
  <tr>
    <td scope="col">[a]G</td>
    <td scope="col">Задание текущего значения регистра PC процессора. Если эмулируемая система выполняется в фоновом режиме, произойдёт мгновенный переход процессора на исполнение кода с адреса a. Если эмулируемая система остановлена, продолжение выполнения с указанного адреса будет производиться сразу после выхода из отладчика или переключения на окно эмулируемой системы. Если адрес a не указан, используется предыдущее значение этого адреса. </td>
  </tr>
  <tr>
    <td scope="col">Q</td>
    <td scope="col">Выход из отладчика, возврат к работе с эмулируемой системой </td>
  </tr>
  <tr>
    <td scope="col">?</td>
    <td scope="col">Выдача на консоль отладчика краткой справки о доступных командах и их синтаксисе. </td>
  </tr>
</table>
<p>См. также: <a href="context_ru.html">Контекстное меню системы </a>, <a href="keys_ru.html">Клавиатурные сокращения</a>, <a href="index_ru.html"> Главное меню</a></p>
</body>
</html>
